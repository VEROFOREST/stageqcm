{% extends 'base.html.twig' %}

{% block title %}Correction{% endblock %}

{% block body %}

<div class="container text-center">
	<h1 class="text-center success">Les Réponses </h1>
	</br>
	<h4>Voici les réponses de </h4>
     <h4> {{reponsesEleve[0].user.prenom}} {{reponsesEleve[0].user.nom}} </h4>
	<div class="row justify-content-around">
		<div class="card-deck">
			<div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
				<div class="card-header font-weight-bold">Note sur les QCM</div>
                <div class="card-body">
                    <h3 class="card-title">{{noteQCM}}</h3>
                    <p class="card-text">Vous avez obtenu
                    {{noteQCM}}
                    /
                    {{notetotalQuestion}} 
                    pour les questions QCM.</p>
                </div>
			    
			</div>
            
                {% for rep in reponsesProf  %}
                        {# {{dump(rep)}} #}
                    {% endfor %}
			      
			    {# pour chaque réponse de l'éleve, on vérifie si qcm si qcm affichage de la note total et des notes par question qcm  #}

			{% for reponseEleve in reponsesEleve  %}
        	{# <h4> {{reponseEleve.user.prenom}} {{reponseEleve.user.nom}} </h4>  #}
				{% if reponseEleve.reponseProf.question.typeReponse.type == "qcm"  %}


					<div class="card border-primary mb-3" style="max-width: 18rem;">
						<div class="card-header text-primary font-weight-bold">Question n°
							{{reponseEleve.reponseProf.question.numero}}</div>
                        <div class="card-body text-primary">
                            <h3 class="card-title">{{reponseEleve.noteQuestion}}/{{reponseEleve.reponseProf.question.baremeQuestion}}</h3>
                            {% if reponseEleve.noteQuestion == reponseEleve.reponseProf.question.baremeQuestion %}
                                <p class="card-text material-icons text-success">
                                    check_circle
                                </p>
                            {% else %}
                                <p class="card-text material-icons text-danger">highlight_off</p>

                            {% endif %}


                        </div>
					    
			        </div>
				{% endif %}
			{% endfor %}
        </div>

    </div>
            
		 
     <h4>Réponses Libres </h4>
        <form>
    <div class="row ">
        <div clas="col-md-12">
       
            {% for reponseEleve in reponsesEleve  %}
                    {% if reponseEleve.reponseProf.question.typeReponse.type == "libre"  %}
                        <div class="input-group flex-nowrap">
                            <div class="input-group-prepend">
                            {# <label for="exampleFormControlTextarea1">Reponse</label> #}
                            <span class="input-group-text">question n° {{reponseEleve.reponseProf.question.numero}}</span>
                            </div>
                            <input type="textarea" class="form-control" id="exampleFormControlinput1" value="{{reponseEleve.reponseEleve}}"></input>
                        </div>
                    {% endif %}
            {% endfor %}
            <button type="submit" class="btn btn-primary">Submit</button>
    </div>    
    </div>    
        </form>




      {# <div class="row justify-content-center">
        <div class="card text-dark bg-warning mb-3" style="max-width: 25rem;">
          <div class="card-header text-center font-weight-bold">Note sur les Questions à réponses libres</div>
            <div class="card-body">
              <h3 class="card-title"></h3>
              <p class="card-text">Votre note sur les questions libres est en attente de la correction de votre formateur</p>
            </div>
         </div>
        </div>
      </div> #}
</div>  
{% endblock %}
